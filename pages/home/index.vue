<template>
	<PageLayout :isBack="false">
		<template class="container">
			<!-- ä¸Šéƒ¨ï¼šè½®æ’­å›¾ -->
			<view class="top-section">
				<swiper class="swiper" :autoplay="true" :interval="3000" :duration="500" :circular="true" indicator-dots
					indicator-color="rgba(255,255,255,0.5)" indicator-active-color="#ffffff">
					<swiper-item v-for="(pic, index) in bannerList" :key="index">
						<image class="swiper-image" :src="pic" mode="widthFix" />
					</swiper-item>
				</swiper>
			</view>

			<!-- ä¸­éƒ¨ï¼šè·¯ç”±å¡ç‰‡ -->
			<view class="center-section">
				<view class="cards-left">
					<image class="card-item" :src="cardList[0].icon" mode="widthFix"
						@click="handleCardClick(cardList[0])" />
					<image class="card-item" :src="cardList[1].icon" mode="widthFix"
						@click="handleCardClick(cardList[1])" />
				</view>
				<view class="card-right">
					<image class="card-item" :src="cardList[2].icon" mode="widthFix"
						@click="handleCardClick(cardList[2])" />
				</view>
			</view>

			<view class="bottom-content">
				<BottomTip tips="ç¢Žç¢Žå¿µ" :customStyle=" tipstyle " />
				<FlowLayout :list="liveList" />
				<BottomTip />
			</view>
		</template>
	</PageLayout>
</template>

<script setup>
	import {
		ref
	} from 'vue';
	// import {
	// 	getPicUrl
	// } from '@/utils/index.js'
	import BottomTip from '@/components/bottomTip.vue'
	import CustomNavbar from '@/components/customNavbar.vue'
	import PageLayout from '@/components/pageLayout/index.vue'
	import FlowLayout from '@/components/flowLayout.vue'

	const tipstyle = ref({
		height: '50px',
		lineHeight: '50px'
	})
	// è½®æ’­å›¾æ•°æ®
	const bannerList = ref([
		'/static/travel/5.jpg',
		'/static/travel/travel_4.jpg',
		'/static/dog/pet_dumpling_7.jpg',
		'/static/cat/pet_mimi_7.jpg',
		'/static/dog/pet_dumpling_2.jpg'
	])

	// å¡ç‰‡æ•°æ®
	const cardList = ref([{
			title: 'åŽ»çœ‹çœ‹å–µä¸»å­',
			icon: '/static/gotocat.jpg',
			path: '/pages/pets/index',
			key: 'cat'
		},
		{
			title: 'å›´è§‚ç‹—å­æ—¥å¸¸',
			icon: '/static/gotodog.jpg',
			path: '/pages/pets/index',
			key: 'dog'
		},
		{
			title: 'ä¸–ç•Œé‚£ä¹ˆå¤§ï¼Œæˆ‘æƒ³åŽ»çœ‹çœ‹',
			icon: '/static/gototravel.jpg',
			path: '/pages/travel/index',
			key: 'travel'
		}
	])

	const liveList = ref([{
			pic: '/static/live/live_1.jpg',
			desc: 'å°ç†Šçˆ†æ”¹é¸¡å“¥â€”â€”æˆ‘å°±ç«™åœ¨ä½ é¢å‰ï¼Œä½ çœ‹æˆ‘å‡ åˆ†åƒä»Žå‰ã€‚',
			diretion: 'column'
		},
		{
			pic: '/static/live/live_6.jpg',
			desc: 'ä¸‹ç­æ—¶çš„æ™šéœž',
			diretion: 'row'
		},
		{
			pic: '/static/live/live_4.jpg',
			desc: 'è¿™æ˜¯é€å¼ å…ˆç”Ÿçš„ç¤¼ç‰©â€”â€”ç”±ä¸¤åƒå¤šä¸ªç¢Žç‰‡ç»„æˆçš„é¥æŽ§èµ›è½¦ã€‚å½“ç„¶æ˜¯ä»–è‡ªå·±æ‹¼çš„å•¦~æ˜¯è°æƒ³çŽ©æˆ‘ä¸è¯´ã€‚',
			diretion: 'row'
		},
		{
			pic: '/static/live/live_2.jpg',
			desc: 'kittyçˆ·çˆ·~å®ŒæˆåŽå°±ç›–èµ·æ¥äº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚',
			diretion: 'column'
		},
		{
			pic: '/static/live/gouzhi.jpg',
			desc: 'æ¯æ¬¡é€›è¡—éƒ½ä¼šç¢°è§å–æ‰‹å·¥åˆ¶å“çš„æ‘Šå­ï¼Œç¢°è§çš„å¤šäº†æ€»æƒ³è‡ªå·±è¯•è¯•ï¼ŒäºŽæ˜¯ä¹°äº†äº›åŽŸææ–™ï¼ŒæŒ‰ç…§æ•™ç¨‹åŽ»ä¸€æ­¥æ­¥åšã€‚èµ·åˆæ˜¯ä¸€å°æ§èŠ±æŸï¼ŒåŽæ¥æ¸æ¸çš„å°±å¯ä»¥åšè‡ªå·±æƒ³åšçš„ä¸œè¥¿äº†ã€‚è¿™æ˜¯æ ¹æ®æˆ‘å–œæ¬¢çš„æ¯å­çš„å¤§å°å®šåˆ¶çš„æ¯å¥—ï¼Œæˆ‘ååˆ†å–œæ¬¢ã€‚',
			diretion: 'row'
		},
		{
			pic: '/static/live/huashu.jpg',
			desc:'è¿™æ˜¯è·Ÿæœ‹å‹é€›è¡—æ—¶å¥¹é€çš„æ‰‹æ§èŠ±ï¼Œè¿˜çœŸåˆ«è¯´ï¼Œæ€ªå¥½çœ‹çš„ã€‚',
			diretion: 'row'
		},
		{
			pic: '/static/live/meishi.jpg',
			desc:'å¼ å…ˆç”Ÿå°¤çˆ±åšé¥­ï¼Œè¯´æ˜¯äº«å—è‡ªç»™è‡ªè¶³çš„è¿‡ç¨‹ã€‚æˆ‘ç€å®žå¾—ç›ŠäºŽä»–çš„çˆ±å¥½ï¼Œæƒ³åƒçš„èœåªè¦æŠ¥ä¸ªåå­—å³å¯ï¼Œåœ¨æ­¤æ‚„æ‚„çš„æ¯”ä¸ªå¿ƒðŸ¤ž',
			diretion: 'row'
		},
		{
			pic: '/static/live/xueren.jpg',
			desc:'ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ¯å¹´ä¸‹é›ªéƒ½å¾ˆå…´å¥‹ï¼Œè¿™æ˜¯å°åŒºé‡Œçš„ç»¿åŒ–ä¸Šçš„ç§¯é›ªï¼Œä¸å †ä¸ªé›ªäººæ€»è§‰å¾—å°‘äº†ä»€ä¹ˆã€‚',
			diretion: 'row'
		},
		{
			pic: '/static/live/youxi.jpg',
			desc:'ç”Ÿæ´»æ˜¯ä¸°å¯Œå¤šå½©çš„ï¼Œé™¤äº†å·¥ä½œå­¦ä¹ ï¼Œå¨±ä¹ä¹Ÿæ˜¯ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚å·¥ä½œé—²æš‡ä¹‹ä½™æˆ‘ä¹Ÿä¼šçŽ©ä¸åŒçš„æ¸¸æˆ,å·¥ä½œæ—¶å¥½å¥½å·¥ä½œï¼Œå…¶ä½™æ—¶é—´ä¹Ÿè¦å¥½å¥½ç”Ÿæ´»ï¼Œè¿‡çš„å¼€å¿ƒå‘€ã€‚',
			diretion: 'row'
		}
	])
 
	// å¡ç‰‡ç‚¹å‡»äº‹ä»¶
	const handleCardClick = (card) => {
		if (card.path && card.key) {
			uni.setStorageSync('petTabKey', {
				key: card.key
			})
			uni.switchTab({
				url: card.path
			})
		} else {
			uni.showToast({
				title: 'åŠŸèƒ½å¼€å‘ä¸­',
				icon: 'none',
				duration: 1000
			})
		}
	}

	const gotoDetail = (info) => {
		if (info.pic && info.desc) {
			uni.navigateTo({
				url: `/pages/detail/index?params=${encodeURIComponent((JSON.stringify(info)))}`,
			})
		}
	}
</script>

<style lang="scss" scoped>
	.container {
		width: 100%;
		height: 100%;
		padding: 0 8px;
		background-color: #f5f5f5;
	}

	.top-section {
		width: 100%;
		height: fit-content;
		border-radius: 4px;
		overflow: hidden;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
	}

	.swiper {
		width: 100%;
	}

	.swiper-image {
		width: 100%;
	}

	.center-section {
		display: flex;
		margin-top: 10px;
		gap: 8px;
	}

	.card-right {
		flex: 1;

		.card-item {
			width: 100%;
		}
	}

	.cards-left {
		flex: 1;
		display: flex;
		flex-direction: column;
		gap: 8px;

		.card-item {
			flex: 1;
			width: 100%;
		}
	}

	.card-item {
		border-radius: 6px;
		// transition: all 0.3s ease;
		box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
		background-size: cover;
		background-position: center;
		cursor: pointer;
	}

	.bottom-content {
		height: fit-content;

		// .bottom-title,
		// .bottom-tip {
		// 	height: 30px;
		// 	width: 100%;
		// 	padding: 8px;
		// 	text-align: center;
		// 	line-height: 30px;
		// 	color: #8c8c8c !important;
		// }

		.bottom-card {
			column-count: 2;
			gap: 8px;

			.bottom-item {
				display: inline-block;
				width: 100%;
				margin-bottom: 8px;
				/* é˜²æ­¢æ–­å±‚ */
				break-inside: avoid;
				background: #ffffff;
				border-radius: 4px;

				.bottom-pic {
					width: 100%;
				}

				.bottom-text {
					padding: 6px;
					line-height: 16px;
					height: 16px;
					text-overflow: ellipsis;
					white-space: nowrap;
					overflow: hidden;
					color: #8c8c8c !important;
					font-size: 16px !important;
				}
			}
		}
	}
</style>